import{g as T,h as V,k as A,J as P,a as L,l as R,r as f,M,d as F,n as z,o as v,j as s,f as X,m as Y}from"./index-JsNhkqQY.js";import{e as B,u as I}from"./useValorantData-jpAWPamp.js";import{C as J,S as D}from"./search-BBLyCwT2.js";function O(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],o=e[1+r],i=e[2+r],l=e[3+r],d=T(o,i,l);return t?d(n):d}function U(e,t,r){const n=e.get();let o=null,i=n,l;const d=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,p=()=>{o&&(o.stop(),o=null)},g=()=>{p(),o=new P({keyframes:[N(e.get()),N(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:l})};if(e.attach((u,a)=>{i=u,l=m=>a(j(m,d)),V.postRender(g)},p),A(t)){const u=t.on("change",m=>e.set(j(m,d))),a=e.on("destroy",u);return()=>{u(),a()}}return p}function j(e,t){return t?e+t:e}function N(e){return typeof e=="number"?e:parseFloat(e)}function x(e){const t=L(()=>R(e)),{isStatic:r}=f.useContext(M);if(r){const[,n]=f.useState(e);f.useEffect(()=>t.on("change",n),[])}return t}function k(e,t){const r=x(t()),n=()=>r.set(t());return n(),F(()=>{const o=()=>V.preRender(n,!1,!0),i=e.map(l=>l.on("change",o));return()=>{i.forEach(l=>l()),z(n)}}),r}function Z(e){v.current=[],e();const t=k(v.current,e);return v.current=void 0,t}function w(e,t,r,n){if(typeof e=="function")return Z(e);const o=typeof t=="function"?t:O(t,r,n);return Array.isArray(e)?C(e,o):C([e],([i])=>o(i))}function C(e,t){const r=L(()=>[]);return k(e,()=>{r.length=0;const n=e.length;for(let o=0;o<n;o++)r[o]=e[o].get();return t(r)})}function S(e,t={}){const{isStatic:r}=f.useContext(M),n=()=>A(e)?e.get():e;if(r)return w(n);const o=x(n());return f.useInsertionEffect(()=>U(o,e,t),[o,JSON.stringify(t)]),o}const q=({card:e})=>{const t=f.useRef(null),r=x(0),n=x(0),o=S(r,{stiffness:500,damping:50}),i=S(n,{stiffness:500,damping:50}),l=w(i,[-.5,.5],["17.5deg","-17.5deg"]),d=w(o,[-.5,.5],["-17.5deg","17.5deg"]),p=u=>{if(!t.current)return;const a=t.current.getBoundingClientRect(),m=a.width,c=a.height,h=u.clientX-a.left-m/2,y=u.clientY-a.top-c/2,b=h/m,E=y/c;r.set(b),n.set(E)},g=()=>{r.set(0),n.set(0)};return s.jsxs(Y.div,{ref:t,onMouseMove:p,onMouseLeave:g,style:{rotateX:l,rotateY:d,transformStyle:"preserve-3d"},className:"relative w-full aspect-[1/2] rounded-xl bg-gray-900 border border-white/10 overflow-hidden cursor-pointer group perspective-1000",children:[s.jsxs("div",{style:{transform:"translateZ(50px)"},className:"absolute inset-0",children:[s.jsx("img",{src:e.largeArt,alt:e.displayName,className:"w-full h-full object-cover",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/10 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{mixBlendMode:"overlay"}})]}),s.jsx("div",{style:{transform:"translateZ(75px)"},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center",children:s.jsx("h3",{className:"text-white font-bold text-lg text-center drop-shadow-md leading-tight",children:e.displayName})})]})},Q=()=>{const{data:e,isLoading:t,error:r}=B(),{data:n,isLoading:o}=I(),[i,l]=f.useState("Todos"),[d,p]=f.useState(""),g=["Todos","VCT / Esports","Agentes","Padrão"],u=f.useMemo(()=>{if(!e)return[];let a=e;return d&&(a=a.filter(m=>m.displayName.toLowerCase().includes(d.toLowerCase()))),i==="Todos"?a:a.filter(m=>{const c=m.displayName.toLowerCase();if(i==="VCT / Esports")return c.includes("vct")||c.includes("champions")||c.includes("lock in")||c.includes("masters");if(i==="Agentes")return n?.some(h=>c.includes(h.displayName.toLowerCase()));if(i==="Padrão"){const h=c.includes("vct")||c.includes("champions")||c.includes("lock in")||c.includes("masters"),y=n?.some(b=>c.includes(b.displayName.toLowerCase()));return!h&&!y}return!0})},[e,n,i,d]);return t||o?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-valorant-red"})}):r?s.jsx("div",{className:"flex items-center justify-center min-h-screen text-valorant-red",children:"Erro ao carregar cards."}):s.jsxs("div",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col md:flex-row gap-8",children:[s.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:s.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md border border-white/10 rounded-xl p-4 sticky top-24",children:[s.jsx("h2",{className:"text-xl font-heading font-bold text-white mb-4 uppercase tracking-wider border-b border-white/10 pb-2",children:"Categorias"}),s.jsx("div",{className:"space-y-1",children:g.map(a=>s.jsxs("button",{onClick:()=>l(a),className:X("w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center justify-between group",i===a?"bg-valorant-red text-white shadow-lg shadow-valorant-red/20":"text-gray-400 hover:text-white hover:bg-white/5"),children:[s.jsx("span",{children:a}),i===a&&s.jsx(J,{size:16,className:"text-white"})]},a))})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-heading font-bold text-white mb-2 uppercase tracking-wider",children:i}),s.jsxs("p",{className:"text-gray-400 mb-6",children:["Visualizando ",u.length," cards"]}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(D,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-700 rounded-md leading-5 bg-gray-900 text-gray-300 placeholder-gray-400 focus:outline-none focus:bg-gray-800 focus:border-valorant-red sm:text-sm transition duration-150 ease-in-out",placeholder:"Buscar cards...",value:d,onChange:a=>p(a.target.value)})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8 perspective-1000",children:u.map(a=>s.jsx("div",{className:"flex justify-center",children:s.jsx(q,{card:a})},a.uuid))}),u.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Nenhum card encontrado nesta categoria."})]})]})};export{Q as default};
